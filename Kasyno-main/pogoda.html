<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Pogoda â€“ gÅ‚Ã³wne miasta Polski</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="pogoda.css">
</head>
<body>

  <h1>ğŸŒ¤ï¸ Pogoda w Polsce</h1>

  <div id="weather">Åadowanie danych...</div>

  <a href="pulpit.html" class="btn-back">PowrÃ³t do pulpitu</a>

  <script>
    const apiKey = "0a3f86207ae89a0ef077bbb3778d8da0";

    const cities = [
      "Warszawa",
      "KrakÃ³w",
      "WrocÅ‚aw",
      "GdaÅ„sk",
      "PoznaÅ„",
      "ÅÃ³dÅº",
      "Katowice",
      "ChorzÃ³w"
    ];

    const weatherDiv = document.getElementById("weather");

    async function loadWeather() {
      weatherDiv.innerHTML = "";

      for (const city of cities) {
        try {
          const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)},PL&appid=${apiKey}&units=metric&lang=pl`;
          const res = await fetch(url);

          if (!res.ok) continue;

          const data = await res.json();

          weatherDiv.innerHTML += `
            <div class="city">
              <h3>${data.name}</h3>
              <p>ğŸŒ¡ï¸ ${Math.round(data.main.temp)}Â°C</p>
              <p>â˜ï¸ ${data.weather[0].description}</p>
              <p>ğŸ’¨ ${data.wind.speed} m/s</p>
            </div>
          `;
        } catch (e) {
          console.error(e);
        }
      }

      if (!weatherDiv.innerHTML) {
        weatherDiv.textContent = "Nie udaÅ‚o siÄ™ pobraÄ‡ danych ğŸ˜¢";
      }
    }

    loadWeather();
  </script>
</body>
</html>
