<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Slot Realistyczny 3D</title>

<style>
:root {
    --neon: #ff2a2a;
}

body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at top, #200, #000);
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1400px;
    font-family: Arial, sans-serif;
}

/* ===== NEON ===== */
@keyframes neonPulse {
    0% { box-shadow: 0 0 10px var(--neon); }
    50% { box-shadow: 0 0 25px var(--neon); }
    100% { box-shadow: 0 0 10px var(--neon); }
}

/* ===== MASZYNA ===== */
.machine {
    width: 360px;
    height: 620px;
    background: linear-gradient(#b00, #400);
    border-radius: 30px;
    box-shadow: 0 0 40px red;
    transform: rotateX(6deg);
    position: relative;
    animation: neonPulse 2s infinite;
}

/* ===== G√ìRA ===== */
.top {
    height: 120px;
    background: radial-gradient(circle, #ff5555, #700);
    border-radius: 30px 30px 10px 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: gold;
    font-size: 36px;
    font-weight: bold;
}

/* ===== OKNO ===== */
.reels-window {
    margin: 40px auto;
    width: 260px;
    height: 90px;
    background: #111;
    border-radius: 15px;
    border: 4px solid gold;
    overflow: hidden;
    box-shadow: inset 0 0 30px black;
}

.reels {
    display: flex;
    height: 100%;
}

.reel {
    width: 86px;
    overflow: hidden;
    position: relative;
}

.reel-strip {
    position: absolute;
    top: 0;
    width: 100%;
}

.symbol {
    height: 90px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 48px;
    background: linear-gradient(#eee, #bbb);
}

/* ===== KOMUNIKAT ===== */
.message {
    text-align: center;
    font-size: 22px;
    height: 30px;
    font-weight: bold;
}

/* ===== WAJCHA ===== */
.lever-container {
    position: absolute;
    right: -110px;
    top: 150px;
    width: 120px;
    height: 360px;
    perspective: 800px;
}

.lever {
    position: absolute;
    left: 50%;
    top: 0;
    width: 14px;
    height: 260px;
    background: linear-gradient(#eee, #888);
    border-radius: 10px;
    transform-origin: top;
    transform: translateX(-50%);
}

.lever-ball {
    position: absolute;
    bottom: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 44px;
    height: 44px;
    background: radial-gradient(circle at 30% 30%, #ff8888, #a00);
    border-radius: 50%;
    cursor: grab;
}
</style>
</head>

<body>

<div class="machine">

    <div class="top">777</div>

    <div class="reels-window">
        <div class="reels">
            <div class="reel"><div class="reel-strip" id="reel1"></div></div>
            <div class="reel"><div class="reel-strip" id="reel2"></div></div>
            <div class="reel"><div class="reel-strip" id="reel3"></div></div>
        </div>
    </div>

    <div class="message" id="msg"></div>

    <div class="lever-container">
        <div class="lever" id="lever">
            <div class="lever-ball" id="ball"></div>
        </div>
    </div>

</div>

<script>
const symbols = ["üçí","üçã","‚≠ê","üîî","7Ô∏è‚É£"];
const reels = [
    document.getElementById("reel1"),
    document.getElementById("reel2"),
    document.getElementById("reel3")
];
const msg = document.getElementById("msg");
const lever = document.getElementById("lever");
const ball = document.getElementById("ball");

symbols.forEach(s => {
    reels.forEach(r => {
        for (let i = 0; i < 10; i++) {
            const d = document.createElement("div");
            d.className = "symbol";
            d.textContent = s;
            r.appendChild(d);
        }
    });
});

let startY = 0;
let pulled = false;

ball.addEventListener("mousedown", e => {
    startY = e.clientY;
    pulled = true;
    ball.style.cursor = "grabbing";
});

document.addEventListener("mouseup", () => {
    if (!pulled) return;
    pulled = false;
    ball.style.cursor = "grab";
    spin();
    lever.style.transform = "translateX(-50%)";
});

document.addEventListener("mousemove", e => {
    if (!pulled) return;
    let delta = Math.min(120, Math.max(0, e.clientY - startY));
    lever.style.transform =
        `translateX(-50%) translateY(${delta}px) rotateX(${delta/3}deg)`;
});

function spin() {
    msg.textContent = "";
    reels.forEach((r, i) => {
        const offset = Math.floor(Math.random()*symbols.length)*90;
        r.style.transition = `top ${1 + i*0.3}s cubic-bezier(.1,.8,.2,1)`;
        r.style.top = `-${offset}px`;
    });

    setTimeout(checkWin, 2000);
}

function checkWin() {
    const results = reels.map(r =>
        r.children[Math.abs(parseInt(r.style.top)/90) % symbols.length].textContent
    );
    if (results[0] === results[1] && results[1] === results[2]) {
        msg.textContent = "üéâ JACKPOT!";
        msg.style.color = "gold";
    } else {
        msg.textContent = "‚ùå PRZEGRANA";
        msg.style.color = "#f44";
    }
}
</script>

</body>
</html>